
<h1>Authentication</h1>

<p>In order to create, update or delete an entry you need to authenticate your 
application. This sample includes an simple Oauth2 server which can issue an 
access token for an Wordpress user. Therefor you have to submit your username 
and password with Basic authorization to the token endpoint.</p>

<pre><code class="http">POST <?php echo $router->getAbsolutePath('WordpressGateway\Api\Authentication\Endpoint\Token'); ?> HTTP/1.1
User-Agent: Lynx 2.8.7
Content-Type: application/x-www-form-urlencoded
Authorization: Basic YWRtaW46dGVzdDEyMw==
Content-Length: 29

grant_type=client_credentials
</code></pre>

<p>The endpoint will return an access token</p>

<pre><code class="http">HTTP/1.1 200 OK
X-Powered-By: psx
Content-Length: 148
Content-Type: application/json

{
    "access_token": "0536a0b1fc599246743649991b133eb6dd8889cba59f84d1ff1546ff9b3d8781",
    "token_type": "bearer",
    "expires_in": 1433961485
}
</code></pre>

<p>You can use the access token to create i.e. an new post</p>

<pre><code class="http">POST <?php echo $router->getAbsolutePath('WordpressGateway\Api\Posts\Endpoint\Collection'); ?> HTTP/1.1
User-Agent: Lynx 2.8.7
Connection: Keep-Alive
Authorization: Bearer 1ab55cbf3eaedd86d87547111dfe2e8d364ff9e0871b930663e28564ef031f65
Content-Type: application/json

{
    "title": "foo",
    "content": "lorem <b>ipsum</b>",
    "status": "publish"
}
</code></pre>



<script type="text/javascript">
$(document).ready(function(){

	$('pre code').each(function(i, block) {
		hljs.highlightBlock(block);
	});


});
</script>

